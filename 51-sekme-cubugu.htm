<!DOCTYPE html>
<html>
    <head>
        
        <title>Sekme Çubuğu</title>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- DIŞARIDAN YÜKLENEN KÜTÜPHANE DOSYALARI -->
        <link rel="stylesheet" type="text/css" href="kutuphane/basic-1.4.css">
        <script src="kutuphane/basic-1.4.js" type="text/javascript" charset="utf-8"></script>

        <style>

            /* Web sayfası gibi seçilebilmesini engelle. */

            * {
                -webkit-tap-highlight-color: rgba(0,0,0,0);
            }
            
            body {
                -webkit-touch-callout: none;
                -webkit-text-size-adjust: none;
                -webkit-user-select: none;   
            }

        </style>

        <script>

        /*

            - tab, tüm nesneyi taşıyan kutu.

            - Bu nesne, iki parçaya bölünmüştür;
            1. tab.b1, butonları gruplayan, taşıyıcı kutu.
            2. tab.b2, içerik kutularını gruplayan taşıyıcı kutu

            Böylece, butonları grup olarak ortalayabiliyor ve içerikleri yine grup
            olarak kaydırabiliyorum.

            - Buton isimleri ve genişlikleri tabBarButtons isimli diziden alınıyor.

            Buton genişlikleri otomatik olarak HESAPLANMIYOR.

            - Bir butona basıldığında, önceki basılı butonun arkaplan renginin,
              hareketli olarak, basılan butonun arkasına getirmek için;
              kayan parçayı farklı bir nesne yaptım. Ve butonların arka planlarını şeffaf yaptım.

            - Her bir içeriği oluşturmak için, bir fonksiyon oluşturdum.
            
            Böylece; her bir içerik, birbirinden bağımsız ve özel olarak oluşturulabilir.

        */
            
        // DEĞİŞKENLER
            
        // Sekme çubuğu
        var tab

        // Sekme çubuğu içerik boyutları
        var tabBarContentWidth = 450
        var tabBarContentHeight = 300

        // Sekme çubuğu, butonlar
        var tabBarButtons = [
            {id: 1, name: "Bilim", width: 90},
            {id: 2, name: "Teknoloji", width: 120},
            {id: 3, name: "Sanat", width: 100},
            {id: 3, name: "?", width: 40}
        ]

        // ÖZEL FONKSİYONLAR
            
        // İlk çalışan fonksiyon.
        var start = function() {

            page.color = "whitesmoke"

            // NESNE: Sekme çubuğu taşıyıcı
            tab = createBox(10, 10, tabBarContentWidth, tabBarContentHeight + 60)
            that.border = 0
            that.color = "transparent"

            // Butonların toplam genişliği hesaplanacak.
            var b1Width = 0

            // NESNE: Butonların taşıyıcısı
            tab.b1 = createBox(0, 0, 50, 50)
            that.color = "white"
            that.border = 0
            that.round = 8

            // NESNE: Seçili butonun arkasına hareket eden renkli kutu
            tab.b1.btnSelected = createBox(0, 0)
            that.border = 2
            that.borderColor = "white"
            that.round = 8
            that.height = 50
            // İlk yüklendiğinde, buton animasyonlu olur.
            that.width = 10
            // İlk yüklendiğinde, buton animasyonsuz olur.
            // that.width = 90
            that.color = "whitesmoke"
            that.contElement.style.transition = "left 0.5s, width 0.5s, background-color 0.5s"

            // Butonları oluştur
            for (var i = 0; i < tabBarButtons.length; i++) {
                // NESNE: Buton
                tab.b1["btn" + i] = createButton(0, 0, tabBarButtons[i].width, 50)
                that.left = b1Width
                that.text = tabBarButtons[i].name
                that.minimal = 1
                that.round = 8
                that.color = "transparent"
                that.indexNumber = i
                that.onClick(tabBarBtnClicked)

                b1Width += that.width
            }

            // Taşıyıcıyı, butonların toplam genişliğine ayarla.
            tab.b1.width = b1Width
            tab.b1.center("left")

            // İçeriklerin toplam genişliği hesaplanacak.
            var b2Width = 0

            // NESNE: İçeriklerin taşıyıcısı
            tab.b2 = createBox(0, 60, 50, 50)
            that.height = tabBarContentHeight
            that.round = 0
            that.border = 0
            // İlk yüklenirken içerik animasyonlu olur.
            that.left -=  tabBarContentWidth / 2
            // İlk yüklenirken içerik animasyonsuz olur.
            // that.left =  0
            that.contElement.style.transition = "left 0.5s"

            // İçerikleri oluştur
            for (var i = 0; i < tabBarButtons.length; i++) {
                // Her bir içerik için bir taşıyıcı
                tab.b2["box" + i] = createBox(0, 0, tabBarContentWidth, tabBarContentHeight)
                that.left = b2Width
                that.border = 0
                that.round = 4
                b2Width += tabBarContentWidth

            }

            // Taşıyıcıyı, içeriklerin toplam genişline ayala.
            tab.b2.width = b2Width

            // İçerik taşıyıcıların , içlerini dolduran fonksiyonlar.
            createBox0Content()
            createBox1Content()
            createBox2Content()
            createBox3Content()
            
            tab.center()

            page.onResize(centerAll)

            // Başlangıçta, ilk butona basılmış gibi ayarla.
            setTimeout(function() {
                tabBarBtnClicked(tab.b1.btn0)
            }, 100)
            
        }
        
        // DİĞER FONKSİYONLAR

        var centerAll = function() {

            tab.center()

        }
        
        // Butona basıldığında, gereken işlemleri yap.
        var tabBarBtnClicked = function(self) {
            // Renkli kutuyu, butonun konum ve boyutuna getir.
            tab.b1.btnSelected.left = self.left
            tab.b1.btnSelected.width = self.width
            // Renkli kutunun rengini, içerik kutusunun rengi ile aynı yap.
            tab.b1.btnSelected.color = tab.b2["box" + self.indexNumber].color
            // Basılan butona göre, içeriği hareket ettir.
            tab.b2.left = (self.indexNumber * tabBarContentWidth) * -1
            
        }
        
        var createBox0Content = function() {

            var box = tab.b2.box0

            box.color = "Lavender"

            box.lblTitle = createLabel()
            that.text = "İçerik 1"
            that.textAlign = "center"
            that.height = 30
            that.center()

            // Bu kutunun içini burada doldur.

        }

        var createBox1Content = function() {

            var box = tab.b2.box1

            box.color = "PaleTurquoise"

            box.lblTitle = createLabel()
            that.text = "İçerik 2"
            that.textAlign = "center"
            that.height = 30
            that.center()

            // Bu kutunun içini burada doldur.
            
        }

        var createBox2Content = function() {

            var box = tab.b2.box2

            box.color = "Bisque"

            box.lblTitle = createLabel()
            that.text = "İçerik 3"
            that.textAlign = "center"
            that.height = 30
            that.center()

            // Bu kutunun içini burada doldur.
            
        }

        var createBox3Content = function() {

            var box = tab.b2.box3

            box.color = "whitesmoke"

            box.lblTitle = createLabel()
            that.text = "İçerik 4"
            that.textAlign = "center"
            that.height = 30
            that.center()

            // Bu kutunun içini burada doldur.

        }

        </script>

    </head>
    <body>
        
        <!-- HTML içeriği -->
        
    </body>
</html>