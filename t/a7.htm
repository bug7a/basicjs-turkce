<!DOCTYPE html>
<html>
    <head>
        
        <title>Dairenin Yarıçapı</title>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- DIŞARIDAN YÜKLENEN KÜTÜPHANE DOSYALARI -->
        <link rel="stylesheet" type="text/css" href="kutuphane/basic-1.4.css">
        <script src="kutuphane/basic-1.4.js" type="text/javascript" charset="utf-8"></script>

        <script>

        var PI = 3.14
            
        // DEĞİŞKENLER
        
        var txtR
        var txtR_desc

        var circle
        var lblInfo
        var lblBottomInfo
        
        // ÖZEL FONKSİYONLAR
            
        // İlk çalışan fonksiyon.
        var start = function() {

            page.color = "whitesmoke"

            // NESNE: Dairenin yarı çapının yazıldığı, metin kutusu
            txtR = ctxt(50, 50, 150)
            that.title = "Dairenin Yarıçapı:"
            that.text = "100"
            that.textAlign = "center"
            that.onChange(updateCircle)

            // NESNE: Metin kutusunun yanındaki, milimetre bilgisi
            txtR_desc = clbl(0, 0, 170, 30)
            that.text = "milimetre (mm)"
            that.fontSize = 17
            that.textColor = "#00000080"
            that.aline(txtR, "right", 10)
            that.top += 12

            // NOT: txtR_desc nesnesinin, boyutu "auto" manuel verilmiştir.

            // NESNE: Ortadaki daire
            circle = cbox(50, 150)
            that.color = "#FE5D49"
            // CSS hareketi ekle.
            that.setMotion("left 1s, top 1s, width 1s, height 1s, border-radius 1s")

            // NESNE: Dairenin altındaki bilgi yazısı
            lblInfo = clbl(0, 0, 300, "auto")
            that.text = ""
            that.fontSize = 13
            that.textAlign = "center"
            that.setMotion("top 1s")

            updateCircle()

            // NESNE: En alttaki, açıklama yazısı
            lblBottomInfo = clbl(0, 0, "auto", "auto")
            that.text = "Dairenin boyutu PIksel (px) cinsindendir. Milimetre temsilidir."
            that.textColor = "rgba(0, 0, 0, 0.6"
            that.fontSize = 12
            that.color = "white"
            that.space = 4
            that.round = 8
            that.afterCalc(function(self) {
                self.bottom = 30
                self.center("left")

                // NOT: Konumlandırma, nesnenin boyutu ile ilgili olduğu için,
                // Nesne boyutu hesaplandıktan sonra, hizalanıyor.

            })

            // NOT: lblBottomInfo nesnesinin, boyutu "auto" yapılmaz ise,
            // afterCalc() fonksiyonunu kullanmaya gerek olmaz.

            // Sayfa boyutu, her değiştiğinde
            page.onResize(pageResized)
            
        }
        
        // DİĞER FONKSİYONLAR

        var pageResized = function() {

            // Hareketi, geçici olarak devre dışı bırak. 10ms
            circle.breakMotion()
            circle.center()
            // Hareketi, geçici olarak devre dışı bırak. 10ms
            lblInfo.breakMotion()
            lblInfo.aline(circle, "bottom", 10)
            lblInfo.center("left")
            lblBottomInfo.center("left")

            // NOT: Hareket, geçici olarak devre dışı bırakıldığında;
            // sayfa boyutu değiştirildiğinde, nesneler hareketsiz olarak ortalanacak.

        }
        
        var updateCircle = function() {

            var r = num(txtR.text)

            // r sadece, 0 - 300 arası olabilir.
            if (r > 300) {
                r = 300
                txtR.text = str(r)
            } else if (r < 0) {
                r = 0
                txtR.text = str(r)
            }

            circle.width = num(r * 2)
            circle.height = circle.width
            circle.round = r
            circle.center()

            var circumference = num(2 * PI * r)
            var area = num(PI * r * r)

            lblInfo.text = "<span style='font-family: opensans-bold'>Çevresi:</span> " + circumference + " mm<br>"
            lblInfo.text += "<span style='font-family: opensans-bold'>Alanı:</span> " + area + " mm<sup>2</sup>"
            // Tarayıcı, metin boyutuna göre, nesneyi yeniden boyutlandırdıktan sonra,
            lblInfo.afterCalc(function(self) {
                // self, lblInfo nesnesinin aynısı.
                self.aline(circle, "bottom", 10)
                self.center("left")
            })

            // NOT: lblInfo nesnesinin, boyutu "auto" yapılmaz ise,
            // afterCalc() fonksiyonunu kullanmaya gerek olmaz.
            
        }

        </script>

    </head>
    <body>
        
        <!-- HTML içeriği -->
        
    </body>
</html>